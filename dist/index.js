(function(l,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(l=typeof globalThis<"u"?globalThis:l||self,e(l.AIWorkspaceHeader={},l.Vue))})(this,function(l,e){"use strict";const m="aiworkspace_auth",f="aiworkspace_user_id";function k(){const r=e.ref({user:null,isAuthenticated:!1,isLoading:!0}),o=a=>{var t;const s=`; ${document.cookie}`.split(`; ${a}=`);return s.length===2&&((t=s.pop())==null?void 0:t.split(";").shift())||null},i=(a,c,s=7)=>{const t=new Date;t.setTime(t.getTime()+s*24*60*60*1e3),document.cookie=`${a}=${c};expires=${t.toUTCString()};path=/;domain=.aiworkspace.pro`},n=a=>{document.cookie=`${a}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;domain=.aiworkspace.pro`},d=async()=>{try{const a=o(m),c=o(f);a&&c?r.value={user:{id:c,email:""},isAuthenticated:!0,isLoading:!1}:r.value={user:null,isAuthenticated:!1,isLoading:!1}}catch(a){console.error("Auth check failed:",a),r.value={user:null,isAuthenticated:!1,isLoading:!1}}},u=()=>{n(m),n(f),r.value={user:null,isAuthenticated:!1,isLoading:!1}};return e.onMounted(()=>{d()}),{authState:r,checkAuth:d,logout:u,getCookie:o,setCookie:i,clearCookie:n}}const g={class:"aiworkspace-header"},h={class:"header-container"},_={class:"logo-section"},E={href:"/",class:"logo"},B=["src"],y={key:0,class:"nav-links"},N=["href","target"],A={class:"right-section"},w={key:1,class:"user-section"},V={key:0,class:"loading-spinner"},L={key:1,class:"user-menu"},b=["src","alt"],C={key:1,class:"user-avatar-placeholder"},I={class:"user-name"},S={key:0,class:"user-dropdown"},T={key:2,class:"auth-buttons"},U=e.defineComponent({__name:"AIWorkspaceHeader",props:{showUserMenu:{type:Boolean,default:!0},showNotifications:{type:Boolean,default:!0},customLogo:{default:""},customLinks:{default:()=>[]}},setup(r){const{authState:o,logout:i}=k(),n=e.ref(!1),d=()=>{n.value=!n.value},u=()=>{console.log("Toggle notifications")},a=()=>{i(),n.value=!1},c=s=>{s.target.closest(".user-menu")||(n.value=!1)};return e.onMounted(()=>{document.addEventListener("click",c)}),e.onUnmounted(()=>{document.removeEventListener("click",c)}),(s,t)=>(e.openBlock(),e.createElementBlock("header",g,[e.createElementVNode("div",h,[e.createElementVNode("div",_,[e.createElementVNode("a",E,[e.createElementVNode("img",{src:s.customLogo||"/logo.svg",alt:"AIWorkspace",class:"logo-image"},null,8,B),t[0]||(t[0]=e.createElementVNode("span",{class:"logo-text"},"AIWorkspace",-1))])]),s.customLinks&&s.customLinks.length?(e.openBlock(),e.createElementBlock("nav",y,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.customLinks,p=>(e.openBlock(),e.createElementBlock("a",{key:p.label,href:p.url,target:p.external?"_blank":void 0,class:"nav-link"},e.toDisplayString(p.label),9,N))),128))])):e.createCommentVNode("",!0),e.createElementVNode("div",A,[s.showNotifications?(e.openBlock(),e.createElementBlock("button",{key:0,class:"notification-btn",onClick:u},[...t[1]||(t[1]=[e.createElementVNode("span",{class:"notification-icon"},"ðŸ””",-1)])])):e.createCommentVNode("",!0),s.showUserMenu?(e.openBlock(),e.createElementBlock("div",w,[e.unref(o).isLoading?(e.openBlock(),e.createElementBlock("div",V," Loading... ")):e.unref(o).isAuthenticated&&e.unref(o).user?(e.openBlock(),e.createElementBlock("div",L,[e.createElementVNode("button",{class:"user-button",onClick:d},[e.unref(o).user.avatar_url?(e.openBlock(),e.createElementBlock("img",{key:0,src:e.unref(o).user.avatar_url,alt:e.unref(o).user.name||"User",class:"user-avatar"},null,8,b)):(e.openBlock(),e.createElementBlock("span",C,e.toDisplayString((e.unref(o).user.name||e.unref(o).user.email).charAt(0).toUpperCase()),1)),e.createElementVNode("span",I,e.toDisplayString(e.unref(o).user.name||e.unref(o).user.email),1),t[2]||(t[2]=e.createElementVNode("span",{class:"dropdown-arrow"},"â–¼",-1))]),n.value?(e.openBlock(),e.createElementBlock("div",S,[t[3]||(t[3]=e.createElementVNode("a",{href:"/profile",class:"dropdown-item"},"Profile",-1)),t[4]||(t[4]=e.createElementVNode("a",{href:"/settings",class:"dropdown-item"},"Settings",-1)),e.createElementVNode("button",{onClick:a,class:"dropdown-item logout-btn"},"Logout")])):e.createCommentVNode("",!0)])):(e.openBlock(),e.createElementBlock("div",T,[...t[5]||(t[5]=[e.createElementVNode("a",{href:"/login",class:"auth-btn login-btn"},"Login",-1),e.createElementVNode("a",{href:"/signup",class:"auth-btn signup-btn"},"Sign Up",-1)])]))])):e.createCommentVNode("",!0)])])]))}}),M="",D=((r,o)=>{const i=r.__vccOpts||r;for(const[n,d]of o)i[n]=d;return i})(U,[["__scopeId","data-v-c5ef26bd"]]);l.AIWorkspaceHeader=D,l.useAuth=k,Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})});
