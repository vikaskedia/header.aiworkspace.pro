(function(l,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(l=typeof globalThis<"u"?globalThis:l||self,e(l.AIWorkspaceHeader={},l.Vue))})(this,function(l,e){"use strict";const k="aiworkspace_auth",g="aiworkspace_user_id";function h(){const n=e.ref({user:null,isAuthenticated:!1,isLoading:!0}),a=o=>{var r;const u=`; ${document.cookie}`.split(`; ${o}=`);return u.length===2&&((r=u.pop())==null?void 0:r.split(";").shift())||null},d=(o,i,u=7)=>{const r=new Date;r.setTime(r.getTime()+u*24*60*60*1e3),document.cookie=`${o}=${i};expires=${r.toUTCString()};path=/;domain=.aiworkspace.pro`},c=o=>{document.cookie=`${o}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;domain=.aiworkspace.pro`},t=async()=>{try{const o=a(k),i=a(g);o&&i?n.value={user:{id:i,email:""},isAuthenticated:!0,isLoading:!1}:n.value={user:null,isAuthenticated:!1,isLoading:!1}}catch(o){console.error("Auth check failed:",o),n.value={user:null,isAuthenticated:!1,isLoading:!1}}},f=()=>{c(k),c(g),n.value={user:null,isAuthenticated:!1,isLoading:!1}};return e.onMounted(()=>{t()}),{authState:n,checkAuth:t,logout:f,getCookie:a,setCookie:d,clearCookie:c}}const E={class:"aiworkspace-header"},b={class:"header-container"},y={class:"logo-section"},N={href:"/",class:"logo"},B=["src"],A={class:"nav-links"},w=["href","target"],L={class:"right-section"},V={key:1,class:"user-section"},C={key:0,class:"loading-spinner"},I={key:1,class:"user-menu"},S=["src","alt"],T={key:1,class:"user-avatar-placeholder"},U={class:"user-name"},D={key:0,class:"user-dropdown"},M={key:2,class:"auth-buttons"},x=e.defineComponent({__name:"AIWorkspaceHeader",props:{showUserMenu:{type:Boolean,default:!0},showNotifications:{type:Boolean,default:!0},customLogo:{default:""},customLinks:{default:()=>[]}},setup(n){const a=n,d=[{label:"Dashboard",url:"/dashboard"},{label:"Goals",url:"/goals"},{label:"Tasks",url:"/tasks"},{label:"Analytics",url:"/analytics"},{label:"Settings",url:"/settings"}],c=e.computed(()=>a.customLinks&&a.customLinks.length>0?a.customLinks:d),{authState:t,logout:f}=h(),o=e.ref(!1),i=()=>{o.value=!o.value},u=()=>{console.log("Toggle notifications")},r=()=>{f(),o.value=!1},_=p=>{p.target.closest(".user-menu")||(o.value=!1)};return e.onMounted(()=>{document.addEventListener("click",_)}),e.onUnmounted(()=>{document.removeEventListener("click",_)}),(p,s)=>(e.openBlock(),e.createElementBlock("header",E,[e.createElementVNode("div",b,[e.createElementVNode("div",y,[e.createElementVNode("a",N,[e.createElementVNode("img",{src:p.customLogo||"/aiworkspace-logo.svg",alt:"AIWorkspace",class:"logo-image"},null,8,B),s[0]||(s[0]=e.createElementVNode("span",{class:"logo-text"},"AIWorkspace",-1))])]),e.createElementVNode("nav",A,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(c.value,m=>(e.openBlock(),e.createElementBlock("a",{key:m.label,href:m.url,target:m.external?"_blank":void 0,class:"nav-link"},e.toDisplayString(m.label),9,w))),128))]),e.createElementVNode("div",L,[p.showNotifications?(e.openBlock(),e.createElementBlock("button",{key:0,class:"notification-btn",onClick:u},[...s[1]||(s[1]=[e.createElementVNode("span",{class:"notification-icon"},"ðŸ””",-1)])])):e.createCommentVNode("",!0),p.showUserMenu?(e.openBlock(),e.createElementBlock("div",V,[e.unref(t).isLoading?(e.openBlock(),e.createElementBlock("div",C," Loading... ")):e.unref(t).isAuthenticated&&e.unref(t).user?(e.openBlock(),e.createElementBlock("div",I,[e.createElementVNode("button",{class:"user-button",onClick:i},[e.unref(t).user.avatar_url?(e.openBlock(),e.createElementBlock("img",{key:0,src:e.unref(t).user.avatar_url,alt:e.unref(t).user.name||"User",class:"user-avatar"},null,8,S)):(e.openBlock(),e.createElementBlock("span",T,e.toDisplayString((e.unref(t).user.name||e.unref(t).user.email).charAt(0).toUpperCase()),1)),e.createElementVNode("span",U,e.toDisplayString(e.unref(t).user.name||e.unref(t).user.email),1),s[2]||(s[2]=e.createElementVNode("span",{class:"dropdown-arrow"},"â–¼",-1))]),o.value?(e.openBlock(),e.createElementBlock("div",D,[s[3]||(s[3]=e.createElementVNode("a",{href:"/profile",class:"dropdown-item"},"Profile",-1)),s[4]||(s[4]=e.createElementVNode("a",{href:"/settings",class:"dropdown-item"},"Settings",-1)),e.createElementVNode("button",{onClick:r,class:"dropdown-item logout-btn"},"Logout")])):e.createCommentVNode("",!0)])):(e.openBlock(),e.createElementBlock("div",M,[...s[5]||(s[5]=[e.createElementVNode("a",{href:"/login",class:"auth-btn login-btn"},"Login",-1),e.createElementVNode("a",{href:"/signup",class:"auth-btn signup-btn"},"Sign Up",-1)])]))])):e.createCommentVNode("",!0)])])]))}}),H="",W=((n,a)=>{const d=n.__vccOpts||n;for(const[c,t]of a)d[c]=t;return d})(x,[["__scopeId","data-v-bbacf2a6"]]);l.AIWorkspaceHeader=W,l.useAuth=h,Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})});
